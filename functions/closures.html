<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	<script>
		//1
		// замыкания
		function sum(a)
		{
			return function(b)
			{
				return a + b; // берёт "a" из внешнего лексического окружения
			};
		}

		alert( sum(1)(2) ); //3
		alert( sum(5)(-1) ); //4


		//2
		let arr = [1, 2, 3, 4, 5, 6, 7];

		function inBetween(a, b)
		{
			return function(x)
			{
				return x >= a && x <= b;
			};
		}

		//my solution
		function inArray(arr)
		{
			return function(x)
			{
				return arr.includes(x);
			};
		}

		alert( arr.filter(inBetween(3, 6)) ); // 3,4,5,6
		alert( arr.filter(inArray([1, 2, 10])) ); // 1,2

		//3 my solution
		function byField(fieldName)
		{
			return function(a, b)
			{
				return a[fieldName] > b[fieldName] ? 1 : -1;
			}
		}

		let nameSortedKey = [
		{ name: "Ann", age: 19, surname: "Hathaway" },
		{ name: "John", age: 20, surname: "Johnson"},
		{ name: "Pete", age: 18, surname: "Peterson" },
		];

		alert(users.sort(byField("name")));

		//4
		function makeArmy()
		{
			let shooters = [];

			for (let i = 0; i < 10; i++)
			{
				let shooter = function()
				{ // функция shooter
					alert( i ); // должна выводить порядковый номер
				};
				shooters.push(shooter);
			}

			return shooters;
		}

		let army = makeArmy();

		army[0](); // 0
		army[5](); // 5
	</script>
</body>
</html>